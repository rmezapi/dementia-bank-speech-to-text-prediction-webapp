import{a as Cn}from"/build/_shared/chunk-VZQVWFLO.js";import{a as Mt,b as et,c as It,d as tt,e as qt,f as Lt,g as Tt,h as rt,i as _e,j as At}from"/build/_shared/chunk-2PEHXEOS.js";import{a as ce,d as Ct,j as Et,n as le}from"/build/_shared/chunk-F6ZQP24G.js";import{a as Pt}from"/build/_shared/chunk-MCHXNSMU.js";import{b as h,c as Xe,d as Rn,e as M,f as Dn}from"/build/_shared/chunk-ADMCF34Z.js";var nt=Xe((so,Bt)=>{"use strict";var En=function(e){return Mn(e)&&!In(e)};function Mn(r){return!!r&&typeof r=="object"}function In(r){var e=Object.prototype.toString.call(r);return e==="[object RegExp]"||e==="[object Date]"||Tn(r)}var qn=typeof Symbol=="function"&&Symbol.for,Ln=qn?Symbol.for("react.element"):60103;function Tn(r){return r.$$typeof===Ln}function An(r){return Array.isArray(r)?[]:{}}function Se(r,e){return e.clone!==!1&&e.isMergeableObject(r)?ge(An(r),r,e):r}function Pn(r,e,t){return r.concat(e).map(function(o){return Se(o,t)})}function Nn(r,e){if(!e.customMerge)return ge;var t=e.customMerge(r);return typeof t=="function"?t:ge}function Hn(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(e){return Object.propertyIsEnumerable.call(r,e)}):[]}function Nt(r){return Object.keys(r).concat(Hn(r))}function Ht(r,e){try{return e in r}catch{return!1}}function Bn(r,e){return Ht(r,e)&&!(Object.hasOwnProperty.call(r,e)&&Object.propertyIsEnumerable.call(r,e))}function Fn(r,e,t){var o={};return t.isMergeableObject(r)&&Nt(r).forEach(function(n){o[n]=Se(r[n],t)}),Nt(e).forEach(function(n){Bn(r,n)||(Ht(r,n)&&t.isMergeableObject(e[n])?o[n]=Nn(n,t)(r[n],e[n],t):o[n]=Se(e[n],t))}),o}function ge(r,e,t){t=t||{},t.arrayMerge=t.arrayMerge||Pn,t.isMergeableObject=t.isMergeableObject||En,t.cloneUnlessOtherwiseSpecified=Se;var o=Array.isArray(e),n=Array.isArray(r),s=o===n;return s?o?t.arrayMerge(r,e,t):Fn(r,e,t):Se(e,t)}ge.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(o,n){return ge(o,n,t)},{})};var Wn=ge;Bt.exports=Wn});function j(r){return typeof r=="object"&&r!==null&&"__dgError"in r}var S,$e,X,H,V=h(()=>{S=class extends Error{constructor(e){super(e),this.__dgError=!0,this.name="DeepgramError"}};$e=class extends S{constructor(e,t){super(e),this.name="DeepgramApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},X=class extends S{constructor(e,t){super(e),this.name="DeepgramUnknownError",this.originalError=t}},H=class extends S{constructor(){super("You are attempting to use an old format for a newer SDK version. Read more here: https://dpgr.am/js-v3"),this.name="DeepgramVersionError"}}});function _(){_.init.call(this)}function Fe(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}function ir(r){return r._maxListeners===void 0?_.defaultMaxListeners:r._maxListeners}function er(r,e,t,o){var n,s,i,u;if(Fe(t),(s=r._events)===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),i=s[e]),i===void 0)i=s[e]=t,++r._eventsCount;else if(typeof i=="function"?i=s[e]=o?[t,i]:[i,t]:o?i.unshift(t):i.push(t),(n=ir(r))>0&&i.length>n&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=r,l.type=e,l.count=i.length,u=l,console&&console.warn&&console.warn(u)}return r}function zn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function tr(r,e,t){var o={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},n=zn.bind(o);return n.listener=t,o.wrapFn=n,n}function rr(r,e,t){var o=r._events;if(o===void 0)return[];var n=o[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?function(s){for(var i=new Array(s.length),u=0;u<i.length;++u)i[u]=s[u].listener||s[u];return i}(n):ur(n,n.length)}function nr(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}function ur(r,e){for(var t=new Array(e),o=0;o<e;++o)t[o]=r[o];return t}var or,sr,ye,Zt,Qt,Xt,A,ut=h(()=>{ye=typeof Reflect=="object"?Reflect:null,Zt=ye&&typeof ye.apply=="function"?ye.apply:function(r,e,t){return Function.prototype.apply.call(r,e,t)};sr=ye&&typeof ye.ownKeys=="function"?ye.ownKeys:Object.getOwnPropertySymbols?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:function(r){return Object.getOwnPropertyNames(r)};Qt=Number.isNaN||function(r){return r!=r};or=_,_.EventEmitter=_,_.prototype._events=void 0,_.prototype._eventsCount=0,_.prototype._maxListeners=void 0;Xt=10;Object.defineProperty(_,"defaultMaxListeners",{enumerable:!0,get:function(){return Xt},set:function(r){if(typeof r!="number"||r<0||Qt(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Xt=r}}),_.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||Qt(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this},_.prototype.getMaxListeners=function(){return ir(this)},_.prototype.emit=function(r){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);var o=r==="error",n=this._events;if(n!==void 0)o=o&&n.error===void 0;else if(!o)return!1;if(o){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var i=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw i.context=s,i}var u=n[r];if(u===void 0)return!1;if(typeof u=="function")Zt(u,this,e);else{var l=u.length,c=ur(u,l);for(t=0;t<l;++t)Zt(c[t],this,e)}return!0},_.prototype.addListener=function(r,e){return er(this,r,e,!1)},_.prototype.on=_.prototype.addListener,_.prototype.prependListener=function(r,e){return er(this,r,e,!0)},_.prototype.once=function(r,e){return Fe(e),this.on(r,tr(this,r,e)),this},_.prototype.prependOnceListener=function(r,e){return Fe(e),this.prependListener(r,tr(this,r,e)),this},_.prototype.removeListener=function(r,e){var t,o,n,s,i;if(Fe(e),(o=this._events)===void 0)return this;if((t=o[r])===void 0)return this;if(t===e||t.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete o[r],o.removeListener&&this.emit("removeListener",r,t.listener||e));else if(typeof t!="function"){for(n=-1,s=t.length-1;s>=0;s--)if(t[s]===e||t[s].listener===e){i=t[s].listener,n=s;break}if(n<0)return this;n===0?t.shift():function(u,l){for(;l+1<u.length;l++)u[l]=u[l+1];u.pop()}(t,n),t.length===1&&(o[r]=t[0]),o.removeListener!==void 0&&this.emit("removeListener",r,i||e)}return this},_.prototype.off=_.prototype.removeListener,_.prototype.removeAllListeners=function(r){var e,t,o;if((t=this._events)===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[r]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete t[r]),this;if(arguments.length===0){var n,s=Object.keys(t);for(o=0;o<s.length;++o)(n=s[o])!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=t[r])=="function")this.removeListener(r,e);else if(e!==void 0)for(o=e.length-1;o>=0;o--)this.removeListener(r,e[o]);return this},_.prototype.listeners=function(r){return rr(this,r,!0)},_.prototype.rawListeners=function(r){return rr(this,r,!1)},_.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):nr.call(r,e)},_.prototype.listenerCount=nr,_.prototype.eventNames=function(){return this._eventsCount>0?sr(this._events):[]};A=or;A.EventEmitter;A.defaultMaxListeners;A.init;A.listenerCount;A.EventEmitter;A.defaultMaxListeners;A.init;A.listenerCount});var Do,Co,Eo,Mo,Io,qo,ar=h(()=>{ut();ut();A.once=function(r,e){return new Promise((t,o)=>{function n(...i){s!==void 0&&r.removeListener("error",s),t(i)}let s;e!=="error"&&(s=i=>{r.removeListener(name,n),o(i)},r.once("error",s)),r.once(e,n)})};A.on=function(r,e){let t=[],o=[],n=null,s=!1,i={async next(){let c=t.shift();if(c)return createIterResult(c,!1);if(n){let a=Promise.reject(n);return n=null,a}return s?createIterResult(void 0,!0):new Promise((a,m)=>o.push({resolve:a,reject:m}))},async return(){r.removeListener(e,u),r.removeListener("error",l),s=!0;for(let c of o)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){n=c,r.removeListener(e,u),r.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return r.on(e,u),r.on("error",l),i;function u(...c){let a=o.shift();a?a.resolve(createIterResult(c,!1)):t.push(c)}function l(c){s=!0;let a=o.shift();a?a.reject(c):n=c,i.return()}};({EventEmitter:Do,defaultMaxListeners:Co,init:Eo,listenerCount:Mo,on:Io,once:qo}=A)});function Yn(r){return r.replace(/\/$/,"")}function we(){return typeof window<"u"&&typeof window.document<"u"}function We(r={},e={}){return(0,be.default)(e,r)}function ze(r,e){Object.keys(e).forEach(t=>{Array.isArray(e[t])?e[t].forEach(n=>{r.append(t,String(n))}):r.append(t,String(e[t]))})}function Kn(r){return r&&typeof r.interim_results<"u"}function Zn(r){return r&&typeof r.global<"u"}var cr,be,ct,fe,xe,Ye,Jn,Vn,at,lt,Gn,ft,ee=h(()=>{cr=M(Pt()),be=M(nt());ct=()=>typeof Headers>"u"?cr.Headers:Headers,fe=r=>!!r.url,xe=r=>!!r.text,Ye=r=>!!(Vn(r)||Jn(r)),Jn=r=>!!r,Vn=r=>!!r,at=class extends URL{constructor(){super(...arguments),this.callbackUrl=!0}},lt=r=>(t=>t.toLowerCase().replace(/^http/,"ws"))(r),Gn=(r,e,t)=>{let o=new URL(r,e);return ze(o.searchParams,t),o};ft=r=>{var e,t,o,n,s,i;let u={};return r._experimentalCustomFetch&&(u.global={fetch:{client:r._experimentalCustomFetch}}),r=(0,be.default)(r,u),!((e=r.restProxy)===null||e===void 0)&&e.url&&(u.global={fetch:{options:{proxy:{url:(t=r.restProxy)===null||t===void 0?void 0:t.url}}}}),r=(0,be.default)(r,u),!((o=r.global)===null||o===void 0)&&o.url&&(u.global={fetch:{options:{url:r.global.url}},websocket:{options:{url:r.global.url}}}),r=(0,be.default)(r,u),!((n=r.global)===null||n===void 0)&&n.headers&&(u.global={fetch:{options:{headers:(s=r.global)===null||s===void 0?void 0:s.headers}},websocket:{options:{_nodeOnlyHeaders:(i=r.global)===null||i===void 0?void 0:i.headers}}}),r=(0,be.default)(r,u),r}});var dt,lr=h(()=>{dt="3.4.0"});var fr,dr,ht,ke,hr,pt,te,re,Je=h(()=>{ee();lr();fr=typeof process<"u"&&process.versions&&process.versions.node?process.versions.node:"unknown",dr=typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown",ht={"Content-Type":"application/json","X-Client-Info":`@deepgram/sdk; ${we()?"browser":"server"}; v${dt}`,"User-Agent":`@deepgram/sdk/${dt} ${we()?`javascript ${dr}`:`node/${fr}`}`},ke="https://api.deepgram.com",hr={fetch:{options:{url:ke,headers:ht}},websocket:{options:{url:lt(ke),_nodeOnlyHeaders:ht}}},pt={global:hr};(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(te||(te={}));(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(re||(re={}))});var Ve,G,Re=h(()=>{ar();Je();V();ee();Ve=()=>{},G=class extends A{constructor(e){super(),this.factory=void 0,this.namespace="global",this.version="v1",this.baseUrl=ke,this.logger=Ve;let t;if(typeof e.key=="function"?(this.factory=e.key,t=this.factory()):t=e.key,t||(t=process.env.DEEPGRAM_API_KEY),!t)throw new S("A deepgram API key is required.");this.key=t,e=ft(e),this.options=We(e,pt)}v(e="v1"){return this.version=e,this}get namespaceOptions(){let e=We(this.options[this.namespace],this.options.global);return Object.assign(Object.assign({},e),{key:this.key})}getRequestUrl(e,t={version:this.version},o){t.version=this.version,e=e.replace(/:(\w+)/g,function(s,i){return t[i]});let n=new URL(e,this.baseUrl);return o&&ze(n.searchParams,o),n}log(e,t,o){this.logger(e,t,o)}}});var Qn,Xn,De,mt,gt=h(()=>{Re();Je();Qn=function(r,e,t,o){function n(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function u(a){try{c(o.next(a))}catch(m){i(m)}}function l(a){try{c(o.throw(a))}catch(m){i(m)}}function c(a){a.done?s(a.value):n(a.value).then(u,l)}c((o=o.apply(r,e||[])).next())})},Xn=typeof WebSocket<"u",De=class extends G{constructor(e){super(e),this.conn=null,this.sendBuffer=[],this.reconnect=Ve;let{key:t,websocket:{options:o,client:n}}=this.namespaceOptions;this.proxy?this.baseUrl=o.proxy.url:this.baseUrl=o.url,n?this.transport=n:this.transport=null,o._nodeOnlyHeaders?this.headers=o._nodeOnlyHeaders:this.headers={},"Authorization"in this.headers||(this.headers.Authorization=`Token ${t}`)}connect(e,t){if(this.conn)return;this.reconnect=(n=e)=>{this.connect(n,t)};let o=this.getRequestUrl(t,{},e);if(this.transport){this.conn=new this.transport(o,void 0,{headers:this.headers});return}if(Xn){this.conn=new WebSocket(o,["token",this.namespaceOptions.key]),this.setupConnection();return}this.conn=new mt(o,void 0,{close:()=>{this.conn=null}}),import("/build/_shared/browser-KKVNCO6Z.js").then(({default:n})=>{this.conn=new n(o,void 0,{headers:this.headers}),this.setupConnection()})}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null)}connectionState(){switch(this.conn&&this.conn.readyState){case te.connecting:return re.Connecting;case te.open:return re.Open;case te.closing:return re.Closing;default:return re.Closed}}getReadyState(){var e,t;return(t=(e=this.conn)===null||e===void 0?void 0:e.readyState)!==null&&t!==void 0?t:te.closed}isConnected(){return this.connectionState()===re.Open}send(e){let t=()=>Qn(this,void 0,void 0,function*(){var o;if(e instanceof Blob){if(e.size===0){this.log("warn","skipping `send` for zero-byte blob",e);return}e=yield e.arrayBuffer()}if(typeof e!="string"&&e.byteLength===0){this.log("warn","skipping `send` for zero-byte blob",e);return}(o=this.conn)===null||o===void 0||o.send(e)});this.isConnected()?t():this.sendBuffer.push(t)}get proxy(){var e;return this.key==="proxy"&&!!(!((e=this.namespaceOptions.websocket.options.proxy)===null||e===void 0)&&e.url)}},mt=class{constructor(e,t,o){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=te.connecting,this.send=()=>{},this.url=null,this.url=e.toString(),this.close=o.close}}});var mr,pr,eo,gr,vr,yr=h(()=>{ee();mr=M(Pt()),pr=function(r,e,t,o){function n(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function u(a){try{c(o.next(a))}catch(m){i(m)}}function l(a){try{c(o.throw(a))}catch(m){i(m)}}function c(a){a.done?s(a.value):n(a.value).then(u,l)}c((o=o.apply(r,e||[])).next())})},eo=r=>{let e;return r?e=r:typeof fetch>"u"?e=mr.default:e=fetch,(...t)=>e(...t)},gr=(r,e)=>{let t=eo(e),o=ct();return(n,s)=>pr(void 0,void 0,void 0,function*(){let i=new o(s?.headers);return i.has("Authorization")||i.set("Authorization",`Token ${r}`),t(n,Object.assign(Object.assign({},s),{headers:i}))})},vr=()=>pr(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("/build/_shared/browser-ponyfill-RFDXNIXU.js")).Response:Response})});var br,de,F,he=h(()=>{V();yr();Re();ee();br=M(nt()),de=function(r,e,t,o){function n(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function u(a){try{c(o.next(a))}catch(m){i(m)}}function l(a){try{c(o.throw(a))}catch(m){i(m)}}function c(a){a.done?s(a.value):n(a.value).then(u,l)}c((o=o.apply(r,e||[])).next())})},F=class extends G{constructor(e){if(super(e),we()&&!this.proxy)throw new S("Due to CORS we are unable to support REST-based API calls to our API from the browser. Please consider using a proxy: https://dpgr.am/js-proxy for more information.");this.fetch=gr(this.key,this.namespaceOptions.fetch.client),this.proxy?this.baseUrl=this.namespaceOptions.fetch.options.proxy.url:this.baseUrl=this.namespaceOptions.fetch.options.url}_getErrorMessage(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)}_handleError(e,t){return de(this,void 0,void 0,function*(){let o=yield vr();e instanceof o?e.json().then(n=>{t(new $e(this._getErrorMessage(n),e.status||500))}).catch(n=>{t(new X(this._getErrorMessage(n),n))}):t(new X(this._getErrorMessage(e),e))})}_getRequestOptions(e,t,o){let n={method:e};return e==="GET"||e==="DELETE"?n=Object.assign(Object.assign({},n),t):n=Object.assign(Object.assign({duplex:"half",body:t},n),o),(0,br.default)(this.namespaceOptions.fetch.options,n,{clone:!1})}_handleRequest(e,t,o,n){return de(this,void 0,void 0,function*(){return new Promise((s,i)=>{let u=this.fetch;u(t,this._getRequestOptions(e,o,n)).then(l=>{if(!l.ok)throw l;s(l)}).catch(l=>this._handleError(l,i))})})}get(e,t){return de(this,void 0,void 0,function*(){return this._handleRequest("GET",e,t)})}post(e,t,o){return de(this,void 0,void 0,function*(){return this._handleRequest("POST",e,t,o)})}put(e,t,o){return de(this,void 0,void 0,function*(){return this._handleRequest("PUT",e,t,o)})}patch(e,t,o){return de(this,void 0,void 0,function*(){return this._handleRequest("PATCH",e,t,o)})}delete(e,t){return de(this,void 0,void 0,function*(){return this._handleRequest("DELETE",e,t)})}get proxy(){var e;return this.key==="proxy"&&!!(!((e=this.namespaceOptions.fetch.options.proxy)===null||e===void 0)&&e.url)}}});var vt,wr=h(()=>{(function(r){r[r.CONNECTING=0]="CONNECTING",r[r.OPEN=1]="OPEN",r[r.CLOSING=2]="CLOSING",r[r.CLOSED=3]="CLOSED"})(vt||(vt={}))});var L,xr=h(()=>{(function(r){r.Open="open",r.Close="close",r.Error="error",r.Transcript="Results",r.Metadata="Metadata",r.UtteranceEnd="UtteranceEnd",r.SpeechStarted="SpeechStarted",r.Unhandled="Unhandled"})(L||(L={}))});var yt=h(()=>{wr();xr()});var Ce,bt=h(()=>{gt();yt();Ce=class extends De{constructor(e,t={},o=":version/listen"){super(e),this.namespace="listen",this.connect(t,o)}setupConnection(){this.conn&&(this.conn.onopen=()=>{this.emit(L.Open,this)},this.conn.onclose=e=>{this.emit(L.Close,e)},this.conn.onerror=e=>{this.emit(L.Error,e)},this.conn.onmessage=e=>{try{let t=JSON.parse(e.data.toString());t.type===L.Metadata?this.emit(L.Metadata,t):t.type===L.Transcript?this.emit(L.Transcript,t):t.type===L.UtteranceEnd?this.emit(L.UtteranceEnd,t):t.type===L.SpeechStarted?this.emit(L.SpeechStarted,t):this.emit(L.Unhandled,t)}catch(t){this.emit(L.Error,{event:e,message:"Unable to parse `data` as JSON.",error:t})}})}configure(e){this.send(JSON.stringify({type:"Configure",processors:e}))}keepAlive(){this.send(JSON.stringify({type:"KeepAlive"}))}finish(){this.requestClose()}requestClose(){this.send(JSON.stringify({type:"CloseStream"}))}}});var Ge,Ee,wt=h(()=>{ee();V();he();Ge=function(r,e,t,o){function n(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function u(a){try{c(o.next(a))}catch(m){i(m)}}function l(a){try{c(o.throw(a))}catch(m){i(m)}}function c(a){a.done?s(a.value):n(a.value).then(u,l)}c((o=o.apply(r,e||[])).next())})},Ee=class extends F{constructor(){super(...arguments),this.namespace="listen"}transcribeUrl(e,t,o=":version/listen"){return Ge(this,void 0,void 0,function*(){try{let n;if(fe(e))n=JSON.stringify(e);else throw new S("Unknown transcription source type");if(t!==void 0&&"callback"in t)throw new S("Callback cannot be provided as an option to a synchronous transcription. Use `transcribeUrlCallback` or `transcribeFileCallback` instead.");let s=this.getRequestUrl(o,{},Object.assign({},t));return{result:yield this.post(s,n).then(u=>u.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}transcribeFile(e,t,o=":version/listen"){return Ge(this,void 0,void 0,function*(){try{let n;if(Ye(e))n=e;else throw new S("Unknown transcription source type");if(t!==void 0&&"callback"in t)throw new S("Callback cannot be provided as an option to a synchronous transcription. Use `transcribeUrlCallback` or `transcribeFileCallback` instead.");let s=this.getRequestUrl(o,{},Object.assign({},t));return{result:yield this.post(s,n,{headers:{"Content-Type":"deepgram/audio+video"}}).then(u=>u.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}transcribeUrlCallback(e,t,o,n=":version/listen"){return Ge(this,void 0,void 0,function*(){try{let s;if(fe(e))s=JSON.stringify(e);else throw new S("Unknown transcription source type");let i=this.getRequestUrl(n,{},Object.assign(Object.assign({},o),{callback:t.toString()}));return{result:yield this.post(i,s).then(l=>l.json()),error:null}}catch(s){if(j(s))return{result:null,error:s};throw s}})}transcribeFileCallback(e,t,o,n=":version/listen"){return Ge(this,void 0,void 0,function*(){try{let s;if(Ye(e))s=e;else throw new S("Unknown transcription source type");let i=this.getRequestUrl(n,{},Object.assign(Object.assign({},o),{callback:t.toString()}));return{result:yield this.post(i,s,{headers:{"Content-Type":"deepgram/audio+video"}}).then(l=>l.json()),error:null}}catch(s){if(j(s))return{result:null,error:s};throw s}})}}});var Me,jr=h(()=>{Re();bt();wt();Me=class extends G{constructor(){super(...arguments),this.namespace="listen"}get prerecorded(){return new Ee(this.options)}live(e={},t=":version/listen"){return new Ce(this.options,e,t)}}});var R,Ie,Ur=h(()=>{V();he();R=function(r,e,t,o){function n(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function u(a){try{c(o.next(a))}catch(m){i(m)}}function l(a){try{c(o.throw(a))}catch(m){i(m)}}function c(a){a.done?s(a.value):n(a.value).then(u,l)}c((o=o.apply(r,e||[])).next())})},Ie=class extends F{constructor(){super(...arguments),this.namespace="manage"}getTokenDetails(e=":version/auth/token"){return R(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(e);return{result:yield this.get(t).then(n=>n.json()),error:null}}catch(t){if(j(t))return{result:null,error:t};throw t}})}getProjects(e=":version/projects"){return R(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(e);return{result:yield this.get(t).then(n=>n.json()),error:null}}catch(t){if(j(t))return{result:null,error:t};throw t}})}getProject(e,t=":version/projects/:projectId"){return R(this,void 0,void 0,function*(){try{let o=this.getRequestUrl(t,{projectId:e});return{result:yield this.get(o).then(s=>s.json()),error:null}}catch(o){if(j(o))return{result:null,error:o};throw o}})}updateProject(e,t,o=":version/projects/:projectId"){return R(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e},t),s=JSON.stringify(t);return{result:yield this.patch(n,s).then(u=>u.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}deleteProject(e,t=":version/projects/:projectId"){return R(this,void 0,void 0,function*(){try{let o=this.getRequestUrl(t,{projectId:e});return yield this.delete(o),{error:null}}catch(o){if(j(o))return{error:o};throw o}})}getProjectKeys(e,t=":version/projects/:projectId/keys"){return R(this,void 0,void 0,function*(){try{let o=this.getRequestUrl(t,{projectId:e});return{result:yield this.get(o).then(s=>s.json()),error:null}}catch(o){if(j(o))return{result:null,error:o};throw o}})}getProjectKey(e,t,o=":version/projects/:projectId/keys/:keyId"){return R(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e,keyId:t});return{result:yield this.get(n).then(i=>i.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}createProjectKey(e,t,o=":version/projects/:projectId/keys"){return R(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e},t),s=JSON.stringify(t);return{result:yield this.post(n,s).then(u=>u.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}deleteProjectKey(e,t,o=":version/projects/:projectId/keys/:keyId"){return R(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e,keyId:t});return yield this.delete(n),{error:null}}catch(n){if(j(n))return{error:n};throw n}})}getProjectMembers(e,t=":version/projects/:projectId/members"){return R(this,void 0,void 0,function*(){try{let o=this.getRequestUrl(t,{projectId:e});return{result:yield this.get(o).then(s=>s.json()),error:null}}catch(o){if(j(o))return{result:null,error:o};throw o}})}removeProjectMember(e,t,o=":version/projects/:projectId/members/:memberId"){return R(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e,memberId:t});return yield this.delete(n),{error:null}}catch(n){if(j(n))return{error:n};throw n}})}getProjectMemberScopes(e,t,o=":version/projects/:projectId/members/:memberId/scopes"){return R(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e,memberId:t});return{result:yield this.get(n).then(i=>i.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}updateProjectMemberScope(e,t,o,n=":version/projects/:projectId/members/:memberId/scopes"){return R(this,void 0,void 0,function*(){try{let s=this.getRequestUrl(n,{projectId:e,memberId:t},o),i=JSON.stringify(o);return{result:yield this.put(s,i).then(l=>l.json()),error:null}}catch(s){if(j(s))return{result:null,error:s};throw s}})}getProjectInvites(e,t=":version/projects/:projectId/invites"){return R(this,void 0,void 0,function*(){try{let o=this.getRequestUrl(t,{projectId:e});return{result:yield this.get(o).then(s=>s.json()),error:null}}catch(o){if(j(o))return{result:null,error:o};throw o}})}sendProjectInvite(e,t,o=":version/projects/:projectId/invites"){return R(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e},t),s=JSON.stringify(t);return{result:yield this.post(n,s).then(u=>u.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}deleteProjectInvite(e,t,o=":version/projects/:projectId/invites/:email"){return R(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e,email:t});return yield this.delete(n).then(s=>s.json()),{error:null}}catch(n){if(j(n))return{error:n};throw n}})}leaveProject(e,t=":version/projects/:projectId/leave"){return R(this,void 0,void 0,function*(){try{let o=this.getRequestUrl(t,{projectId:e});return{result:yield this.delete(o).then(s=>s.json()),error:null}}catch(o){if(j(o))return{result:null,error:o};throw o}})}getProjectUsageRequests(e,t,o=":version/projects/:projectId/requests"){return R(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e},t);return{result:yield this.get(n).then(i=>i.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}getProjectUsageRequest(e,t,o=":version/projects/:projectId/requests/:requestId"){return R(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e,requestId:t});return{result:yield this.get(n).then(i=>i.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}getProjectUsageSummary(e,t,o=":version/projects/:projectId/usage"){return R(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e},t);return{result:yield this.get(n).then(i=>i.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}getProjectUsageFields(e,t,o=":version/projects/:projectId/usage/fields"){return R(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e},t);return{result:yield this.get(n).then(i=>i.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}getProjectBalances(e,t=":version/projects/:projectId/balances"){return R(this,void 0,void 0,function*(){try{let o=this.getRequestUrl(t,{projectId:e});return{result:yield this.get(o).then(s=>s.json()),error:null}}catch(o){if(j(o))return{result:null,error:o};throw o}})}getProjectBalance(e,t,o=":version/projects/:projectId/balances/:balanceId"){return R(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e,balanceId:t});return{result:yield this.get(n).then(i=>i.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}}});var Ke,qe,Or=h(()=>{ee();V();he();Ke=function(r,e,t,o){function n(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function u(a){try{c(o.next(a))}catch(m){i(m)}}function l(a){try{c(o.throw(a))}catch(m){i(m)}}function c(a){a.done?s(a.value):n(a.value).then(u,l)}c((o=o.apply(r,e||[])).next())})},qe=class extends F{constructor(){super(...arguments),this.namespace="read"}analyzeUrl(e,t,o=":version/read"){return Ke(this,void 0,void 0,function*(){try{let n;if(fe(e))n=JSON.stringify(e);else throw new S("Unknown source type");if(t!==void 0&&"callback"in t)throw new S("Callback cannot be provided as an option to a synchronous transcription. Use `analyzeUrlCallback` or `analyzeTextCallback` instead.");let s=this.getRequestUrl(o,{},Object.assign({},t));return{result:yield this.post(s,n).then(u=>u.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}analyzeText(e,t,o=":version/read"){return Ke(this,void 0,void 0,function*(){try{let n;if(xe(e))n=JSON.stringify(e);else throw new S("Unknown source type");if(t!==void 0&&"callback"in t)throw new S("Callback cannot be provided as an option to a synchronous requests. Use `analyzeUrlCallback` or `analyzeTextCallback` instead.");let s=this.getRequestUrl(o,{},Object.assign({},t));return{result:yield this.post(s,n).then(u=>u.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}analyzeUrlCallback(e,t,o,n=":version/read"){return Ke(this,void 0,void 0,function*(){try{let s;if(fe(e))s=JSON.stringify(e);else throw new S("Unknown source type");let i=this.getRequestUrl(n,{},Object.assign(Object.assign({},o),{callback:t.toString()}));return{result:yield this.post(i,s).then(l=>l.json()),error:null}}catch(s){if(j(s))return{result:null,error:s};throw s}})}analyzeTextCallback(e,t,o,n=":version/read"){return Ke(this,void 0,void 0,function*(){try{let s;if(xe(e))s=JSON.stringify(e);else throw new S("Unknown source type");let i=this.getRequestUrl(n,{},Object.assign(Object.assign({},o),{callback:t.toString()}));return{result:yield this.post(i,s,{headers:{"Content-Type":"deepgram/audio+video"}}).then(l=>l.json()),error:null}}catch(s){if(j(s))return{result:null,error:s};throw s}})}}});var Ze,Le,_r=h(()=>{V();he();Ze=function(r,e,t,o){function n(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function u(a){try{c(o.next(a))}catch(m){i(m)}}function l(a){try{c(o.throw(a))}catch(m){i(m)}}function c(a){a.done?s(a.value):n(a.value).then(u,l)}c((o=o.apply(r,e||[])).next())})},Le=class extends F{constructor(){super(...arguments),this.namespace="selfhosted"}listCredentials(e,t=":version/projects/:projectId/onprem/distribution/credentials"){return Ze(this,void 0,void 0,function*(){try{let o=this.getRequestUrl(t,{projectId:e});return{result:yield this.get(o).then(s=>s.json()),error:null}}catch(o){if(j(o))return{result:null,error:o};throw o}})}getCredentials(e,t,o=":version/projects/:projectId/onprem/distribution/credentials/:credentialsId"){return Ze(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e,credentialsId:t});return{result:yield this.get(n).then(i=>i.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}createCredentials(e,t,o=":version/projects/:projectId/onprem/distribution/credentials"){return Ze(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e}),s=JSON.stringify(t);return{result:yield this.post(n,s).then(u=>u.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}deleteCredentials(e,t,o=":version/projects/:projectId/onprem/distribution/credentials/:credentialsId"){return Ze(this,void 0,void 0,function*(){try{let n=this.getRequestUrl(o,{projectId:e,credentialsId:t});return{result:yield this.delete(n).then(i=>i.json()),error:null}}catch(n){if(j(n))return{result:null,error:n};throw n}})}}});var xt,Te,Sr=h(()=>{V();ee();he();xt=function(r,e,t,o){function n(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function u(a){try{c(o.next(a))}catch(m){i(m)}}function l(a){try{c(o.throw(a))}catch(m){i(m)}}function c(a){a.done?s(a.value):n(a.value).then(u,l)}c((o=o.apply(r,e||[])).next())})},Te=class extends F{constructor(){super(...arguments),this.namespace="speak"}request(e,t,o=":version/speak"){return xt(this,void 0,void 0,function*(){try{let n;if(xe(e))n=JSON.stringify(e);else throw new S("Unknown transcription source type");let s=this.getRequestUrl(o,{},Object.assign({model:"aura-asteria-en"},t));return this.result=yield this.post(s,n,{headers:{Accept:"audio/*","Content-Type":"application/json"}}),this}catch(n){throw n}})}getStream(){return xt(this,void 0,void 0,function*(){if(!this.result)throw new X("Tried to get stream before making request","");return this.result.body})}getHeaders(){return xt(this,void 0,void 0,function*(){if(!this.result)throw new X("Tried to get headers before making request","");return this.result.headers})}}});var jt=h(()=>{Re();gt();he();jr();bt();wt();Ur();Or();_r();Sr()});var je,$r=h(()=>{V();jt();je=class extends G{get listen(){return new Me(this.options)}get manage(){return new Ie(this.options)}get onprem(){return this.selfhosted}get selfhosted(){return new Le(this.options)}get read(){return new qe(this.options)}get speak(){return new Te(this.options)}get transcription(){throw new H}get projects(){throw new H}get keys(){throw new H}get members(){throw new H}get scopes(){throw new H}get invitation(){throw new H}get usage(){throw new H}get billing(){throw new H}}});var kr=h(()=>{});var Rr=h(()=>{});var Dr=h(()=>{});var Cr=h(()=>{});var Er=h(()=>{});var Mr=h(()=>{});var Ir=h(()=>{});var qr=h(()=>{});var Lr=h(()=>{});var Tr=h(()=>{});var Ar=h(()=>{});var Pr=h(()=>{});var Nr=h(()=>{});var Hr=h(()=>{});var Br=h(()=>{});var Fr=h(()=>{});var Wr=h(()=>{});var zr=h(()=>{});var Yr=h(()=>{});var Jr=h(()=>{});var Vr=h(()=>{});var Gr=h(()=>{});var Kr=h(()=>{});var Zr=h(()=>{});var Qr=h(()=>{});var Xr=h(()=>{});var en=h(()=>{});var tn=h(()=>{});var rn=h(()=>{});var nn=h(()=>{});var on=h(()=>{});var sn=h(()=>{});var un=h(()=>{});var an=h(()=>{});var cn=h(()=>{});var ln=h(()=>{});var fn=h(()=>{});var dn=h(()=>{});var hn=h(()=>{});var pn=h(()=>{kr();Rr();Dr();Cr();Er();Mr();Ir();qr();Lr();Tr();Ar();Pr();Nr();Hr();Br();Fr();Wr();zr();Yr();Jr();Vr();Gr();Kr();Zr();Qr();Xr();en();tn();rn();nn();on();sn();un();an();cn();ln();fn();dn();hn()});var mn=Xe((Ut,Ot)=>{(function(r,e){typeof Ut=="object"&&typeof Ot<"u"?Ot.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs=e()})(Ut,function(){"use strict";var r=1e3,e=6e4,t=36e5,o="millisecond",n="second",s="minute",i="hour",u="day",l="week",c="month",a="quarter",m="year",$="date",g="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(b){var p=["th","st","nd","rd"],f=b%100;return"["+b+(p[(f-20)%10]||p[f]||p[0])+"]"}},q=function(b,p,f){var v=String(b);return!v||v.length>=p?b:""+Array(p+1-v.length).join(f)+b},pe={s:q,z:function(b){var p=-b.utcOffset(),f=Math.abs(p),v=Math.floor(f/60),d=f%60;return(p<=0?"+":"-")+q(v,2,"0")+":"+q(d,2,"0")},m:function b(p,f){if(p.date()<f.date())return-b(f,p);var v=12*(f.year()-p.year())+(f.month()-p.month()),d=p.clone().add(v,c),y=f-d<0,w=p.clone().add(v+(y?-1:1),c);return+(-(v+(f-d)/(y?d-w:w-d))||0)},a:function(b){return b<0?Math.ceil(b)||0:Math.floor(b)},p:function(b){return{M:c,y:m,w:l,d:u,D:$,h:i,m:s,s:n,ms:o,Q:a}[b]||String(b||"").toLowerCase().replace(/s$/,"")},u:function(b){return b===void 0}},W="en",B={};B[W]=T;var Q="$isDayjsObject",se=function(b){return b instanceof ie||!(!b||!b[Q])},z=function b(p,f,v){var d;if(!p)return W;if(typeof p=="string"){var y=p.toLowerCase();B[y]&&(d=y),f&&(B[y]=f,d=y);var w=p.split("-");if(!d&&w.length>1)return b(w[0])}else{var O=p.name;B[O]=p,d=O}return!v&&d&&(W=d),d||!v&&W},C=function(b,p){if(se(b))return b.clone();var f=typeof p=="object"?p:{};return f.date=b,f.args=arguments,new ie(f)},U=pe;U.l=z,U.i=se,U.w=function(b,p){return C(b,{locale:p.$L,utc:p.$u,x:p.$x,$offset:p.$offset})};var ie=function(){function b(f){this.$L=z(f.locale,null,!0),this.parse(f),this.$x=this.$x||f.x||{},this[Q]=!0}var p=b.prototype;return p.parse=function(f){this.$d=function(v){var d=v.date,y=v.utc;if(d===null)return new Date(NaN);if(U.u(d))return new Date;if(d instanceof Date)return new Date(d);if(typeof d=="string"&&!/Z$/i.test(d)){var w=d.match(x);if(w){var O=w[2]-1||0,k=(w[7]||"0").substring(0,3);return y?new Date(Date.UTC(w[1],O,w[3]||1,w[4]||0,w[5]||0,w[6]||0,k)):new Date(w[1],O,w[3]||1,w[4]||0,w[5]||0,w[6]||0,k)}}return new Date(d)}(f),this.init()},p.init=function(){var f=this.$d;this.$y=f.getFullYear(),this.$M=f.getMonth(),this.$D=f.getDate(),this.$W=f.getDay(),this.$H=f.getHours(),this.$m=f.getMinutes(),this.$s=f.getSeconds(),this.$ms=f.getMilliseconds()},p.$utils=function(){return U},p.isValid=function(){return this.$d.toString()!==g},p.isSame=function(f,v){var d=C(f);return this.startOf(v)<=d&&d<=this.endOf(v)},p.isAfter=function(f,v){return C(f)<this.startOf(v)},p.isBefore=function(f,v){return this.endOf(v)<C(f)},p.$g=function(f,v,d){return U.u(f)?this[v]:this.set(d,f)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(f,v){var d=this,y=!!U.u(v)||v,w=U.p(f),O=function(ae,N){var ne=U.w(d.$u?Date.UTC(d.$y,N,ae):new Date(d.$y,N,ae),d);return y?ne:ne.endOf(u)},k=function(ae,N){return U.w(d.toDate()[ae].apply(d.toDate("s"),(y?[0,0,0,0]:[23,59,59,999]).slice(N)),d)},I=this.$W,E=this.$M,P=this.$D,me="set"+(this.$u?"UTC":"");switch(w){case m:return y?O(1,0):O(31,11);case c:return y?O(1,E):O(0,E+1);case l:var ue=this.$locale().weekStart||0,Ue=(I<ue?I+7:I)-ue;return O(y?P-Ue:P+(6-Ue),E);case u:case $:return k(me+"Hours",0);case i:return k(me+"Minutes",1);case s:return k(me+"Seconds",2);case n:return k(me+"Milliseconds",3);default:return this.clone()}},p.endOf=function(f){return this.startOf(f,!1)},p.$set=function(f,v){var d,y=U.p(f),w="set"+(this.$u?"UTC":""),O=(d={},d[u]=w+"Date",d[$]=w+"Date",d[c]=w+"Month",d[m]=w+"FullYear",d[i]=w+"Hours",d[s]=w+"Minutes",d[n]=w+"Seconds",d[o]=w+"Milliseconds",d)[y],k=y===u?this.$D+(v-this.$W):v;if(y===c||y===m){var I=this.clone().set($,1);I.$d[O](k),I.init(),this.$d=I.set($,Math.min(this.$D,I.daysInMonth())).$d}else O&&this.$d[O](k);return this.init(),this},p.set=function(f,v){return this.clone().$set(f,v)},p.get=function(f){return this[U.p(f)]()},p.add=function(f,v){var d,y=this;f=Number(f);var w=U.p(v),O=function(E){var P=C(y);return U.w(P.date(P.date()+Math.round(E*f)),y)};if(w===c)return this.set(c,this.$M+f);if(w===m)return this.set(m,this.$y+f);if(w===u)return O(1);if(w===l)return O(7);var k=(d={},d[s]=e,d[i]=t,d[n]=r,d)[w]||1,I=this.$d.getTime()+f*k;return U.w(I,this)},p.subtract=function(f,v){return this.add(-1*f,v)},p.format=function(f){var v=this,d=this.$locale();if(!this.isValid())return d.invalidDate||g;var y=f||"YYYY-MM-DDTHH:mm:ssZ",w=U.z(this),O=this.$H,k=this.$m,I=this.$M,E=d.weekdays,P=d.months,me=d.meridiem,ue=function(N,ne,Oe,He){return N&&(N[ne]||N(v,y))||Oe[ne].slice(0,He)},Ue=function(N){return U.s(O%12||12,N,"0")},ae=me||function(N,ne,Oe){var He=N<12?"AM":"PM";return Oe?He.toLowerCase():He};return y.replace(D,function(N,ne){return ne||function(Oe){switch(Oe){case"YY":return String(v.$y).slice(-2);case"YYYY":return U.s(v.$y,4,"0");case"M":return I+1;case"MM":return U.s(I+1,2,"0");case"MMM":return ue(d.monthsShort,I,P,3);case"MMMM":return ue(P,I);case"D":return v.$D;case"DD":return U.s(v.$D,2,"0");case"d":return String(v.$W);case"dd":return ue(d.weekdaysMin,v.$W,E,2);case"ddd":return ue(d.weekdaysShort,v.$W,E,3);case"dddd":return E[v.$W];case"H":return String(O);case"HH":return U.s(O,2,"0");case"h":return Ue(1);case"hh":return Ue(2);case"a":return ae(O,k,!0);case"A":return ae(O,k,!1);case"m":return String(k);case"mm":return U.s(k,2,"0");case"s":return String(v.$s);case"ss":return U.s(v.$s,2,"0");case"SSS":return U.s(v.$ms,3,"0");case"Z":return w}return null}(N)||w.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(f,v,d){var y,w=this,O=U.p(v),k=C(f),I=(k.utcOffset()-this.utcOffset())*e,E=this-k,P=function(){return U.m(w,k)};switch(O){case m:y=P()/12;break;case c:y=P();break;case a:y=P()/3;break;case l:y=(E-I)/6048e5;break;case u:y=(E-I)/864e5;break;case i:y=E/t;break;case s:y=E/e;break;case n:y=E/r;break;default:y=E}return d?y:U.a(y)},p.daysInMonth=function(){return this.endOf(c).$D},p.$locale=function(){return B[this.$L]},p.locale=function(f,v){if(!f)return this.$L;var d=this.clone(),y=z(f,v,!0);return y&&(d.$L=y),d},p.clone=function(){return U.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},b}(),Ne=ie.prototype;return C.prototype=Ne,[["$ms",o],["$s",n],["$m",s],["$H",i],["$W",u],["$M",c],["$y",m],["$D",$]].forEach(function(b){Ne[b[1]]=function(p){return this.$g(p,b[0],b[1])}}),C.extend=function(b,p){return b.$i||(b(p,ie,C),b.$i=!0),C},C.locale=z,C.isDayjs=se,C.unix=function(b){return C(1e3*b)},C.en=B[W],C.Ls=B,C.p={},C})});var gn=Xe((_t,St)=>{(function(r,e){typeof _t=="object"&&typeof St<"u"?St.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_utc=e()})(_t,function(){"use strict";var r="minute",e=/[+-]\d\d(?::?\d\d)?/g,t=/([+-]|\d\d)/g;return function(o,n,s){var i=n.prototype;s.utc=function(g){var x={date:g,utc:!0,args:arguments};return new n(x)},i.utc=function(g){var x=s(this.toDate(),{locale:this.$L,utc:!0});return g?x.add(this.utcOffset(),r):x},i.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var u=i.parse;i.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var l=i.init;i.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else l.call(this)};var c=i.utcOffset;i.utcOffset=function(g,x){var D=this.$utils().u;if(D(g))return this.$u?0:D(this.$offset)?c.call(this):this.$offset;if(typeof g=="string"&&(g=function(W){W===void 0&&(W="");var B=W.match(e);if(!B)return null;var Q=(""+B[0]).match(t)||["-",0,0],se=Q[0],z=60*+Q[1]+ +Q[2];return z===0?0:se==="+"?z:-z}(g),g===null))return this;var T=Math.abs(g)<=16?60*g:g,q=this;if(x)return q.$offset=T,q.$u=g===0,q;if(g!==0){var pe=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(q=this.local().add(T+pe,r)).$offset=T,q.$x.$localOffset=pe}else q=this.utc();return q};var a=i.format;i.format=function(g){var x=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return a.call(this,x)},i.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var m=i.toDate;i.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var $=i.diff;i.diff=function(g,x,D){if(g&&this.$u===g.$u)return $.call(this,g,x,D);var T=this.local(),q=s(g).local();return $.call(T,q,x,D)}}})});function Ae(r,e="HH:mm:ss.SSS"){return(0,$t.default)(r*1e3).utc().format(e)}function yn(r,e){let t=[];for(let o=0;o<r.length;o+=e){let n=r.slice(o,o+e);t.push(n)}return t}var $t,vn,Qe=h(()=>{$t=M(mn()),vn=M(gn());$t.default.extend(vn.default)});var Pe,bn=h(()=>{Qe();Pe=class{constructor(e){this.transcriptionData=e}getLines(e=8){let{results:t}=this.transcriptionData,o=[];if(t.utterances)t.utterances.forEach(n=>{n.words.length>e?o.push(...yn(n.words,e)):o.push(n.words)});else{let n=t.channels[0].alternatives[0].words,s="speaker"in n[0],i=[],u=0;n.forEach(l=>{var c;s&&l.speaker!==u&&(o.push(i),i=[]),i.length===e&&(o.push(i),i=[]),s&&(u=(c=l.speaker)!==null&&c!==void 0?c:0),i.push(l)}),o.push(i)}return o}getHeaders(){var e,t,o,n,s,i,u,l;let c=[];return c.push("NOTE"),c.push("Transcription provided by Deepgram"),!((e=this.transcriptionData.metadata)===null||e===void 0)&&e.request_id&&c.push(`Request Id: ${(t=this.transcriptionData.metadata)===null||t===void 0?void 0:t.request_id}`),!((o=this.transcriptionData.metadata)===null||o===void 0)&&o.created&&c.push(`Created: ${(n=this.transcriptionData.metadata)===null||n===void 0?void 0:n.created}`),!((s=this.transcriptionData.metadata)===null||s===void 0)&&s.duration&&c.push(`Duration: ${(i=this.transcriptionData.metadata)===null||i===void 0?void 0:i.duration}`),!((u=this.transcriptionData.metadata)===null||u===void 0)&&u.channels&&c.push(`Channels: ${(l=this.transcriptionData.metadata)===null||l===void 0?void 0:l.channels}`),c}}});function kt(r){return"transcriptionData"in r}var wn=h(()=>{});var Rt=h(()=>{bn();wn()});var xn=h(()=>{});var jn,Un,On,_n=h(()=>{Rt();Qe();Rt();xn();Qe();jn=r=>kt(r)?r:new Pe(r),Un=(r,e=8)=>{let t=[],o=jn(r);t.push("WEBVTT"),t.push(""),o.getHeaders&&t.push(o.getHeaders().join(`
`)),o.getHeaders&&t.push("");let n=o.getLines(e),s="speaker"in n[0][0];return n.forEach(i=>{let u=i[0],l=i[i.length-1];t.push(`${Ae(u.start)} --> ${Ae(l.end)}`);let c=i.map(m=>{var $;return($=m.punctuated_word)!==null&&$!==void 0?$:m.word}).join(" "),a=s?`<v Speaker ${u.speaker}>`:"";t.push(`${a}${c}`),t.push("")}),t.join(`
`)},On=(r,e=8)=>{let t=[],n=jn(r).getLines(e),s="speaker"in n[0][0],i=1,u;return n.forEach(l=>{t.push((i++).toString());let c=l[0],a=l[l.length-1];t.push(`${Ae(c.start,"HH:mm:ss,SSS")} --> ${Ae(a.end,"HH:mm:ss,SSS")}`);let m=l.map(g=>{var x;return(x=g.punctuated_word)!==null&&x!==void 0?x:g.word}).join(" "),$=s&&u!==c.speaker?`[Speaker ${c.speaker}]
`:"";t.push(`${$}${m}`),t.push(""),u=c.speaker}),t.join(`
`)}});var Sn={};Rn(Sn,{AbstractClient:()=>G,AbstractLiveClient:()=>De,AbstractRestClient:()=>F,AbstractRestfulClient:()=>F,AbstractWsClient:()=>De,BROWSER_AGENT:()=>dr,CONNECTION_STATE:()=>re,CallbackUrl:()=>at,DEFAULT_GLOBAL_OPTIONS:()=>hr,DEFAULT_HEADERS:()=>ht,DEFAULT_OPTIONS:()=>pt,DEFAULT_URL:()=>ke,Deepgram:()=>Dt,DeepgramApiError:()=>$e,DeepgramClient:()=>je,DeepgramError:()=>S,DeepgramUnknownError:()=>X,DeepgramVersionError:()=>H,ListenClient:()=>Me,ListenLiveClient:()=>Ce,ListenRestClient:()=>Ee,LiveConnectionState:()=>vt,LiveTranscriptionEvents:()=>L,Liveclient:()=>Ce,ManageClient:()=>Ie,ManageRestClient:()=>Ie,NODE_VERSION:()=>fr,OnPremClient:()=>Le,PrerecordedClient:()=>Ee,ReadClient:()=>qe,ReadRestClient:()=>qe,SOCKET_STATES:()=>te,SelfHostedRestClient:()=>Le,SpeakClient:()=>Te,SpeakRestClient:()=>Te,appendSearchParams:()=>ze,applyDefaults:()=>We,buildRequestUrl:()=>Gn,convertLegacyOptions:()=>ft,convertProtocolToWs:()=>lt,createClient:()=>to,isBrowser:()=>we,isDeepgramClientOptions:()=>Zn,isDeepgramError:()=>j,isFileSource:()=>Ye,isLiveSchema:()=>Kn,isTextSource:()=>xe,isUrlSource:()=>fe,noop:()=>Ve,resolveHeadersConstructor:()=>ct,srt:()=>On,stripTrailingSlash:()=>Yn,webvtt:()=>Un});function to(r,e){let t={};return typeof r=="string"||typeof r=="function"?(typeof e=="object"&&(t=e),t.key=r):typeof r=="object"&&(t=r),new je(t)}var Dt,$n=h(()=>{V();$r();jt();pn();yt();Je();V();ee();_n();Dt=class{constructor(e,t,o){throw this.apiKey=e,this.apiUrl=t,this.requireSSL=o,new H}}});var ro=M(Cn());var oe=M(ce(),1);var Be=M(ce(),1),Ft=Boolean(globalThis?.document)?Be.useLayoutEffect:Be.useEffect;function Wt(r={}){let{loading:e,src:t,srcSet:o,onLoad:n,onError:s,crossOrigin:i,sizes:u,ignoreFallback:l}=r,[c,a]=(0,oe.useState)("pending");(0,oe.useEffect)(()=>{a(t?"loading":"pending")},[t]);let m=(0,oe.useRef)(),$=(0,oe.useCallback)(()=>{if(!t)return;g();let x=new Image;x.src=t,i&&(x.crossOrigin=i),o&&(x.srcset=o),u&&(x.sizes=u),e&&(x.loading=e),x.onload=D=>{g(),a("loaded"),n?.(D)},x.onerror=D=>{g(),a("failed"),s?.(D)},m.current=x},[t,i,o,u,n,s,e]),g=()=>{m.current&&(m.current.onload=null,m.current.onerror=null,m.current=null)};return Ft(()=>{if(!l)return c==="loading"&&$(),()=>{g()}},[c,$,l]),l?"loaded":c}var ot=M(ce(),1);var st=M(ce(),1);function zt(r){var e,t;let o=qt(),[n,s]=Tt(r,rt.variantKeys),{ref:i,as:u,src:l,className:c,classNames:a,loading:m,isBlurred:$,fallbackSrc:g,isLoading:x,disableSkeleton:D=!!g,removeWrapper:T=!1,onError:q,onLoad:pe,srcSet:W,sizes:B,crossOrigin:Q,...se}=n,z=Wt({src:l,loading:m,onError:q,onLoad:pe,ignoreFallback:!1,srcSet:W,sizes:B,crossOrigin:Q}),C=(t=(e=r.disableAnimation)!=null?e:o?.disableAnimation)!=null?t:!1,U=z==="loaded"&&!x,ie=z==="loading"||x,Ne=r.isZoomed,b=u||"img",p=Mt(i),{w:f}=(0,st.useMemo)(()=>({w:n.width?typeof n.width=="number"?`${n.width}px`:n.width:"fit-content"}),[n?.width]),v=(!l||!U)&&!!g,d=ie&&!D,y=(0,st.useMemo)(()=>rt({...s,disableAnimation:C,showSkeleton:d}),[It(s),C,d]),w=et(c,a?.img),O=(E={})=>{let P=et(w,E?.className);return{src:l,ref:p,"data-loaded":tt(U),className:y.img({class:P}),loading:m,srcSet:W,sizes:B,crossOrigin:Q,...se}},k=(0,ot.useCallback)(()=>{let E=v?{backgroundImage:`url(${g})`}:{};return{className:y.wrapper({class:a?.wrapper}),style:{...E,maxWidth:f}}},[y,v,g,a?.wrapper]),I=(0,ot.useCallback)(()=>({src:l,"aria-hidden":tt(!0),className:y.blurredImg({class:a?.blurredImg})}),[y,l,a?.blurredImg]);return{Component:b,domRef:p,slots:y,classNames:a,isBlurred:$,disableSkeleton:D,fallbackSrc:g,removeWrapper:T,isZoomed:Ne,isLoading:ie,getImgProps:O,getWrapperProps:k,getBlurredImgProps:I}}var Yt=M(ce(),1);var ve=M(le(),1),Jt=Lt((r,e)=>{let{Component:t,domRef:o,slots:n,classNames:s,isBlurred:i,isZoomed:u,fallbackSrc:l,removeWrapper:c,disableSkeleton:a,getImgProps:m,getWrapperProps:$,getBlurredImgProps:g}=zt({...r,ref:e}),x=(0,ve.jsx)(t,{ref:o,...m()});if(c)return x;let D=(0,ve.jsx)("div",{className:n.zoomedWrapper({class:s?.zoomedWrapper}),children:x});return i?(0,ve.jsxs)("div",{...$(),children:[u?D:x,(0,Yt.cloneElement)(x,g())]}):u||!a||l?(0,ve.jsxs)("div",{...$(),children:[" ",u?D:x]}):x});Jt.displayName="NextUI.Image";var it=Jt;var J=M(ce());var Vt=M(ce()),K=M(le()),Gt=({audioBlob:r})=>{let e=Et(),t=Ct(),o=async()=>{let n=new FormData;n.append("audio",r,"audio.webm"),e.submit(n,{method:"post",encType:"multipart/form-data",action:"/test"})};return(0,Vt.useEffect)(()=>{console.log("Fetcher state:",e.state),console.log("Fetcher data:",e.data),e.data?.transcript&&(console.log("Transcription result:",e.data.transcript),t("/diagnosis",{state:{transcript:e.data.transcript}}))},[e.data,t]),(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(_e,{onClick:()=>{console.log("submit"),o()},color:"primary",size:"lg",className:"btn",disabled:e.state==="submitting",children:e.state==="submitting"?"Submitting...":"Submit"}),e.data?.transcript&&(0,K.jsxs)("div",{children:[(0,K.jsx)("h3",{children:"Transcription:"}),(0,K.jsx)("p",{children:e.data.transcript})]}),e.data?.error&&(0,K.jsxs)("p",{children:["Error: ",e.data.error]})]})};var Y=M(le()),Kt=()=>{let[r,e]=(0,J.useState)(!1),[t,o]=(0,J.useState)(null),n=(0,J.useRef)([]),[s,i]=(0,J.useState)(null),[u,l]=(0,J.useState)(null),c=(0,J.useRef)(null),[a,m]=(0,J.useState)("");return(0,J.useEffect)(()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){console.error("MediaDevices API or getUserMedia not supported.");return}navigator.mediaDevices.getUserMedia({audio:!0}).then(x=>{let D=new MediaRecorder(x);o(D),D.ondataavailable=T=>{T.data.size>0&&n.current.push(T.data)},D.onstop=()=>{let T=new Blob(n.current,{type:"audio/wav"});i(T);let q=URL.createObjectURL(T);l(q),m("Recording stopped"),n.current=[]}}).catch(x=>console.error("Error accessing media devices.",x))},[]),(0,Y.jsxs)("div",{children:[(0,Y.jsx)(_e,{onClick:()=>{t&&(u&&URL.revokeObjectURL(u),n.current=[],t.start(),e(!0),m("Recording..."),console.log("started recording"))},disabled:r,children:"Start Recording"}),(0,Y.jsx)(_e,{onClick:()=>{t&&(t.stop(),e(!1),m("Processing recording..."),console.log("stopped recording"))},disabled:!r,children:"Stop Recording"}),u&&(0,Y.jsx)("audio",{ref:c,controls:!0,src:u}),(0,Y.jsx)("p",{children:a}),a==="Recording stopped"&&s&&(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsx)(Gt,{audioBlob:s})})]})};var Z=M(le());function no(){return[{rel:"stylesheet",href:At}]}var oo;if(typeof window>"u"){let{createClient:r}=($n(),Dn(Sn));oo=r(process.env.DEEPGRAM_API_KEY)}function kn(){return(0,Z.jsxs)("div",{children:[(0,Z.jsx)("h1",{children:"Dementia Detection Test"}),(0,Z.jsx)(it,{width:500,alt:"Cookie Theft Test",src:"/images/cookie.png",className:"mb-4"}),(0,Z.jsx)("h3",{children:" Instructions: "}),(0,Z.jsx)("p",{children:" Describe everything you see in the image in an audio recording."}),(0,Z.jsx)("p",{children:" Click on the 'RECORD' button below to begin recording "}),(0,Z.jsx)("p",{children:" When done, click the 'SUBMIT' button below"}),(0,Z.jsx)(Kt,{})]})}export{kn as default,no as links};
